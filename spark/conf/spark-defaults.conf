# Spark Configuration for Iceberg + MinIO (S3)

# Iceberg Catalog Configuration
spark.sql.catalog.iceberg                               org.apache.iceberg.spark.SparkCatalog
spark.sql.catalog.iceberg.type                          hive
spark.sql.catalog.iceberg.uri                           thrift://hive-metastore:9083
spark.sql.catalog.iceberg.warehouse                     s3a://warehouse/

# S3/MinIO Configuration
spark.hadoop.fs.s3a.endpoint                            http://minio:9000
spark.hadoop.fs.s3a.access.key                          minioadmin
spark.hadoop.fs.s3a.secret.key                          minioadmin123
spark.hadoop.fs.s3a.path.style.access                   true
spark.hadoop.fs.s3a.impl                                org.apache.hadoop.fs.s3a.S3AFileSystem
spark.hadoop.fs.s3a.connection.ssl.enabled              false

# Performance Tuning
spark.sql.extensions                                    org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions
spark.sql.adaptive.enabled                              true
spark.sql.adaptive.coalescePartitions.enabled           true

# Memory Configuration
spark.driver.memory                                     2g
spark.executor.memory                                   2g
